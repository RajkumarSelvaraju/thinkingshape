
<div class="container-fluid">
    <div class="row">
		<div class="col-lg-12">
			<div class="page-header">
				<h1>
					<small><i class="fa fa-shopping-cart"></i> Purchase Orders</small>
					<div class="pull-right">
						<%#= link_to "<i class='fa fa-plus'></i> New Order".html_safe, new_order_path, class: "btn btn-warning btn-sm" %>
						<%#= link_to "<i class='fa fa-bar-chart-o'></i> Dashboard".html_safe, dashboard_customers_path, class: "btn btn-success btn-sm" %>
						<%#= link_to "<i class='fa fa-file'></i> Report".html_safe, report_customers_path(:format => :xlsx), class: "btn btn-danger btn-sm" %>
						<%#= link_to "Download as Excel", report_customers_path(format: "xlsx") %>
						<%= link_to "<i class='fa fa-users'></i> Customers".html_safe, customers_path, class: "btn btn-warning btn-sm" %>
					</div>
				</h1>
			</div>
		</div>
	</div>
    <div class="row">
        <div class="col-lg-offset-1 col-lg-10">
            <table class="table table-striped table-hover">
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
                <div class="item html">
                    <h2>0</h2>
                    <svg width="160" height="160">
                     <g>
                      <title>Layer 1</title>
                      <circle id="circle" class="circle_animation" r="69.85699" cy="81" cx="81" stroke-width="16" stroke="#6fdb6f" fill="none"/>
                     </g>
                    </svg>
                </div>
                <tr class="warning">
                    <th>Order Name</th>
                    <th>PO No</th>
                    <th>PO DATE</th>
                    <th>Due Date</th>
                    <th>Customer Name</th>
                </tr>
                <% @orders.each do |o| %>
                <tr>
                    <td><%= o.name %></td>
                    <td><%= o.po_no %></td>
                    <td><%= o.po_date %></td>
                    <td><%= o.due_date %></td>
                    <td><%= o.fname %></td>
                    <td>
                        <%#= link_to content_tag(:i,nil, class: 'fa fa-eye'), o, class: "btn btn-default btn-xs" %>
                        <%#= link_to content_tag(:i,nil, class: 'fa fa-pencil'), edit_order_path(o), class: "btn btn-default btn-xs" %>
                        <%#= link_to content_tag(:i,nil, class: 'fa fa-trash-o'), o, method: :delete, class: "btn btn-default btn-xs" %>
                        <%= link_to content_tag(:i,nil, class: 'fa fa-trash-o'), delete_orders_path(o.id), class: "btn btn-default btn-xs" %>
                    </td>
                </tr>
                <% end %>
            </table>
            <%#= link_to 'New Customer', new_customer_path, class: "btn btn-warning" %>
        </div>
    </div>
</div>
<script>
var time = 120; /* how long the timer runs for */
var initialOffset = '440';
var i = 1
var interval = setInterval(function() {
    $('.circle_animation').css('stroke-dashoffset', initialOffset-(i*(initialOffset/time)));
    $('h2').text(i);
    if (i == time) {
        clearInterval(interval);
    }
    i++;  
}, 1000);
</script>
<style>
.item {
    position: relative;
    float: left;
}

.item h2 {
    text-align:center;
    position: absolute;
    line-height: 125px;
    width: 100%;
}

svg {
   -webkit-transform: rotate(-90deg);
    transform: rotate(-90deg);
}

.circle_animation {
  stroke-dasharray: 440; /* this value is the pixel circumference of the circle */
  stroke-dashoffset: 440;
  transition: all 1s linear;
}
</style>
